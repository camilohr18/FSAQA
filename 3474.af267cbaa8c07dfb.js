"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3474],{3474:(C,d,i)=>{i.r(d),i.d(d,{RevisionPageModule:()=>T});var g=i(177),p=i(4341),r=i(9465),h=i(4964),f=i(467),m=i(8195),o=i(3953),R=i(5066);const y=[{path:"",component:(()=>{var s;class n{constructor(e,t,a){this.popoverCtrl=e,this.service=t,this.router=a,this.taskToReview=[],this.taskCreatedToReview=[],this.uId="5azWXrluqEh888FNJyVo9ag1Ld83",this.tasks=[],this.searchText="",this.segment="creadas",this.popArray=["Esta seccion contiene las tareas que fueron asignadas para que tu las realices","Esta seccion tiene tareas que tu has creado para ti o para otra persona"],this.uId=localStorage.getItem("logged")}ngOnInit(){this.service.getReviewTask(this.uId).then(e=>{console.log(e),e&&e.forEach(t=>{this.service.getUserById(t.cUid).then(a=>{t.creatorName=a[0].name,"revision"===t.status&&this.taskCreatedToReview.push(t),console.log(this.taskCreatedToReview)})})}),this.service.getAsigenedTask(this.uId).then(e=>{console.log(e),e&&e.forEach(t=>{this.service.getUserById(t.cUid).then(a=>{t.creatorName=a[0].name,"revision"===t.status&&this.taskToReview.push(t),console.log(this.taskToReview)})})})}getPiority(e){switch(e){case"low":return"secondary";case"medium":return"warning";case"high":case"emerg":return"danger";default:return""}}popover(e,t,a){var c=this;return(0,f.A)(function*(){console.log(a);const u=yield c.popoverCtrl.create({component:m.n,cssClass:"my-custom-class",event:e,translucent:!1,componentProps:{mss:t,inf:a}});yield u.present();const{role:v}=yield u.onDidDismiss();console.log("onDidDismiss resolved with role",v)})()}openTask(e){this.router.navigate([`tarea-info/${e}`])}onSearchChange(e){this.searchText=e.detail.value}segmentChanged(e){this.segment=e.detail.value}updateTask(e){let t={status:"completada",dFinal:this.getDate()};this.service.updateTask(t,e).then(a=>{console.log(a)})}getDate(){let e=new Date,t=e.getDate(),a=e.getMonth()+1,c=e.getFullYear(),u=e.getHours(),v=e.getMinutes();return a<10?console.log(`${t}-0${a}-${c}`):console.log(`${t}-${a}-${c}`),t+"/"+a+"/"+c+" "+u+":"+v}}return(s=n).\u0275fac=function(e){return new(e||s)(o.rXU(r.IE),o.rXU(R.u),o.rXU(h.Ix))},s.\u0275cmp=o.VBU({type:s,selectors:[["app-revision"]],decls:9,vars:2,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"]],template:function(e,t){1&e&&(o.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),o.EFF(3,"revision"),o.k0s()()(),o.j41(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),o.EFF(8,"revision"),o.k0s()()()()),2&e&&(o.Y8G("translucent",!0),o.R7$(4),o.Y8G("fullscreen",!0))},dependencies:[r.W9,r.eU,r.BC,r.ai]}),n})()}];let P=(()=>{var s;class n{}return(s=n).\u0275fac=function(e){return new(e||s)},s.\u0275mod=o.$C({type:s}),s.\u0275inj=o.G2t({imports:[h.iI.forChild(y),h.iI]}),n})(),T=(()=>{var s;class n{}return(s=n).\u0275fac=function(e){return new(e||s)},s.\u0275mod=o.$C({type:s}),s.\u0275inj=o.G2t({imports:[g.MD,p.YN,r.bv,P]}),n})()}}]);